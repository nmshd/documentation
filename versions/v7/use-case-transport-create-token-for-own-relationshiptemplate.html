<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Create Token for own RelationshipTemplate - enmeshed</title>
<meta name="description" content="">


  <meta name="author" content="enmeshed Team">
  
  <meta property="article:author" content="enmeshed Team">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="enmeshed">
<meta property="og:title" content="Create Token for own RelationshipTemplate">
<meta property="og:url" content="/versions/v7/use-case-transport-create-token-for-own-relationshiptemplate">


  <meta property="og:description" content="">







  <meta property="article:published_time" content="2025-03-05T12:10:58+01:00">






<link rel="canonical" href="/versions/v7/use-case-transport-create-token-for-own-relationshiptemplate">












<!-- end _includes/seo.html -->



  <link href="/versions/v7/feed.xml" type="application/atom+xml" rel="alternate" title="enmeshed Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/versions/v7/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link href="/versions/v7/assets/css/overwrite.css" rel="stylesheet" type="text/css" />
<link href="/versions/v7/assets/css/enmeshed.css" rel="stylesheet" type="text/css" />

<!-- The following lines are needed because otherwise Prism (the syntax highlighter RapiDoc uses) breaks Rouge (the syntax highlighter we use) -->
<script>
    window.Prism = window.Prism || {};
    Prism.manual = true;
</script>
<script type="module" src="https://unpkg.com/rapidoc@9.2.0/dist/rapidoc-min.js"></script>


<div id="banner">
    This is the documentation for an unreleased version of enmeshed, which is currently in a non-stable beta status. Not what you are looking for?
    <a href="/">Head over to the current version.</a>
</div>


  </head>

  <body class="layout--usecase" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/versions/v7/">
          enmeshed
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/versions/v7/use"
                
                
              >Use</a>
            </li><li class="masthead__menu-item">
              <a
                href="/versions/v7/explore"
                
                
              >Explore</a>
            </li><li class="masthead__menu-item">
              <a
                href="/versions/v7/integrate"
                
                
              >Integrate</a>
            </li><li class="masthead__menu-item">
              <a
                href="/versions/v7/operate"
                
                
              >Operate</a>
            </li><li class="masthead__menu-item">
              <a
                href="/versions/v7/contribute"
                
                
              >Contribute</a>
            </li><li class="masthead__menu-item">
              <a
                href="/versions/v7/blog"
                
                
              >Blog</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      <h3>Integrate enmeshed</h3>
      
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      
      
        <li>
          
            <span class="nav__sub-title">Getting Started</span>
          

          
          <ul>
            
              <li><a href="/versions/v7/integrate/access-the-connector">Access the Connector</a></li>
            
              <li><a href="/versions/v7/integrate/integration-example">Integration example</a></li>
            
              <li><a href="/versions/v7/integrate/event-introduction">Event introduction</a></li>
            
          </ul>
          
        </li>
      
        <li>
          
            <span class="nav__sub-title">Identities and Relationships</span>
          

          
          <ul>
            
              <li><a href="/versions/v7/integrate/establish-relationships">Establish Relationships</a></li>
            
              <li><a href="/versions/v7/integrate/exchange-messages">Exchange Messages</a></li>
            
              <li><a href="/versions/v7/integrate/terminate-relationships">Terminate Relationships</a></li>
            
              <li><a href="/versions/v7/integrate/delete-identities">Delete Identities</a></li>
            
              <li><a href="/versions/v7/integrate/manage-identitymetadata">Manage IdentityMetadata</a></li>
            
          </ul>
          
        </li>
      
        <li>
          
            <span class="nav__sub-title">Working With Requests</span>
          

          
          <ul>
            
              <li><a href="/versions/v7/integrate/request-and-response-introduction">Request and Response introduction</a></li>
            
              <li><a href="/versions/v7/integrate/requests-via-relationshiptemplates">Requests via RelationshipTemplates</a></li>
            
              <li><a href="/versions/v7/integrate/requests-via-messages">Requests via Messages</a></li>
            
          </ul>
          
        </li>
      
        <li>
          
            <span class="nav__sub-title">Manage Attributes</span>
          

          
          <ul>
            
              <li><a href="/versions/v7/integrate/attribute-introduction">Attribute introduction</a></li>
            
              <li><a href="/versions/v7/integrate/create-attributes-for-yourself">Create Attributes for yourself</a></li>
            
              <li><a href="/versions/v7/integrate/share-attributes-with-peer">Share Attributes with peer</a></li>
            
              <li><a href="/versions/v7/integrate/read-attributes-from-peer">Read Attributes from peer</a></li>
            
              <li><a href="/versions/v7/integrate/create-attributes-for-peer">Create Attributes for peer</a></li>
            
              <li><a href="/versions/v7/integrate/propose-attributes-to-peer">Propose Attributes to peer</a></li>
            
              <li><a href="/versions/v7/integrate/update-attributes-by-succession">Update Attributes by succession</a></li>
            
              <li><a href="/versions/v7/integrate/delete-attributes">Delete Attributes</a></li>
            
              <li><a href="/versions/v7/integrate/exchange-files-using-attributes">Exchange Files using Attributes</a></li>
            
          </ul>
          
        </li>
      
        <li>
          
            <span class="nav__sub-title">Request Consent</span>
          

          
          <ul>
            
              <li><a href="/versions/v7/integrate/request-persistent-consent-of-peer">Request persistent consent of peer</a></li>
            
              <li><a href="/versions/v7/integrate/request-one-time-consent-of-peer">Request one-time consent of peer</a></li>
            
          </ul>
          
        </li>
      
        <li>
          
            <span class="nav__sub-title">Data Model</span>
          

          
          <ul>
            
              <li><a href="/versions/v7/integrate/data-model-overview">Data Model Overview</a></li>
            
              <li><a href="/versions/v7/integrate/attribute-values">Attribute Values</a></li>
            
              <li><a href="/versions/v7/integrate/connector-events">Connector Events</a></li>
            
              <li><a href="/versions/v7/integrate/use-cases">Use Cases</a></li>
            
          </ul>
          
        </li>
      
        <li>
          
            <span class="nav__sub-title">Migration Guides</span>
          

          
          <ul>
            
              <li><a href="/versions/v7/integrate/migration-from-v4-to-v5">Migration From v4 to v5</a></li>
            
              <li><a href="/versions/v7/integrate/migration-from-v5-to-v6">Migration From v5 to v6</a></li>
            
          </ul>
          
        </li>
      
        <li>
          
            <span class="nav__sub-title">Troubleshooting</span>
          

          
          <ul>
            
              <li><a href="/versions/v7/integrate/error-codes">Error codes</a></li>
            
              <li><a href="/versions/v7/integrate/faq">FAQ</a></li>
            
              <li><a href="/versions/v7/integrate/support">Support</a></li>
            
          </ul>
          
        </li>
      
    
  </ul>
</nav>

    
    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Create Token for own RelationshipTemplate">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="2025-03-05T12:10:58+01:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="/versions/v7/use-case-transport-create-token-for-own-relationshiptemplate" itemprop="url">Create Token for own RelationshipTemplate
</a>
          </h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#parameters">Parameters</a></li><li><a href="#on-success">On Success</a></li><li><a href="#on-failure">On Failure</a></li></ul>
            </nav>
          </aside>
        
        
<!--<div>
    <table>
        
        <tr><td>id</td>
            <td>RT7</td></tr>
        
        <tr><td>component</td>
            <td>Runtime</td></tr>
        
        <tr><td>layer</td>
            <td>Transport</td></tr>
        
        <tr><td>facade</td>
            <td>RelationshipTemplatesFacade</td></tr>
        
        <tr><td>function</td>
            <td>createTokenForOwnTemplate</td></tr>
        
        <tr><td>description</td>
            <td>Creates a `Token` for the own `RelationshipTemplate` with the given `id`</td></tr>
        
        <tr><td>feature category</td>
            <td>Consent required before any data is shared</td></tr>
        
        <tr><td>tech category</td>
            <td>RelationshipTemplates</td></tr>
        
        <tr><td>status</td>
            <td>DONE</td></tr>
        
        <tr><td>documentation status</td>
            <td>DONE</td></tr>
        
        <tr></tr>
        
        <tr><td>actor</td>
            <td>Identity</td></tr>
        
        <tr></tr>
        
        <tr></tr>
        
        <tr></tr>
        
        <tr><td>priority</td>
            <td>n/a</td></tr>
        
        <tr><td>complexity</td>
            <td>n/a</td></tr>
        
        <tr><td>size</td>
            <td>n/a</td></tr>
        
        <tr></tr>
        
        <tr></tr>
        
        <tr><td>api_route_regex</td>
            <td>POST /api/v2/RelationshipTemplates/Own/{id}/Token</td></tr>
        
        <tr><td>published</td>
            <td>default</td></tr>
        
        <tr><td>link</td>
            <td>use-case-transport-create-token-for-own-relationshiptemplate</td></tr>
        
        <tr></tr>
        <tr></tr>
    </table>
</div>
-->

<p>Creates a <a href="/versions/v7/integrate/data-model-overview#token">Token</a> for a given <a href="/versions/v7/integrate/data-model-overview#relationshiptemplate">RelationshipTemplate</a>.</p>

<h2 id="parameters">Parameters</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">templateId</code> is the <code class="language-plaintext highlighter-rouge">id</code> of the RelationshipTemplate the Token should be created for.</li>
  <li><code class="language-plaintext highlighter-rouge">expiresAt</code> is the ISODateTime the Token expires at.</li>
  <li><code class="language-plaintext highlighter-rouge">ephemeral</code> indicates if the Token should be ephemeral and thus not be stored and cached on the local database. This is especially useful for Tokens which are created regularly, e.g. for RelationshipTemplates and doesn&#8217;t need to be stored.</li>
  <li><code class="language-plaintext highlighter-rouge">forIdentity</code> can be set to an enmeshed address. If set, only the <a href="/versions/v7/integrate/data-model-overview#identity">Identity</a> with that <code class="language-plaintext highlighter-rouge">address</code> can load the Token from the Backbone. If the RelationshipTemplate is already personalized via its <code class="language-plaintext highlighter-rouge">forIdentity</code> property, the Token created from it must have the same personalization.</li>
  <li><code class="language-plaintext highlighter-rouge">passwordProtection</code> can be specified as an object for <a href="/versions/v7/integrate/data-model-overview#passwordprotection">PasswordProtection</a> of a Token. If set, only the Identities that know the password specified within the <code class="language-plaintext highlighter-rouge">passwordProtection.password</code> property of the Token can load it from the Backbone. In addition, the optional property <code class="language-plaintext highlighter-rouge">passwordProtection.passwordIsPin</code> can be used to configure the UI of the App in case the password is a pin. If the RelationshipTemplate is already password protected via its <code class="language-plaintext highlighter-rouge">passwordProtection</code> property, the Token created from it must have the same password protection.</li>
</ul>

<h2 id="on-success">On Success</h2>

<ul>
  <li>Returns the created <code class="language-plaintext highlighter-rouge">Token</code>.</li>
</ul>

<h2 id="on-failure">On Failure</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">templateId</code> does not resolve to a RelationshipTemplate.</li>
  <li>The RelationshipTemplate is owned by another Identity, which means that the value of its <code class="language-plaintext highlighter-rouge">isOwn</code> property is <code class="language-plaintext highlighter-rouge">false</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">expiresAt</code> lies in the past.</li>
  <li>The RelationshipTemplate is personalized via its <code class="language-plaintext highlighter-rouge">forIdentity</code> property and the Token does not have the same personalization via its <code class="language-plaintext highlighter-rouge">forIdentity</code> property.</li>
  <li>The RelationshipTemplate is password protected via its <code class="language-plaintext highlighter-rouge">passwordProtection</code> property and the Token does not have the same password protection via its <code class="language-plaintext highlighter-rouge">passwordProtection</code> property.</li>
  <li>In case of password protection of the Token, a <code class="language-plaintext highlighter-rouge">passwordProtection.password</code> that does not consist of 4 to 16 digits was specified, but the value of <code class="language-plaintext highlighter-rouge">passwordProtection.passwordIsPin</code> was nevertheless set to <code class="language-plaintext highlighter-rouge">true</code>.</li>
</ul>
  <h2>How to execute this use case with the Connector?</h2>

The Connector is our first-class citizen, thus we provide you with a detailed API description for every use case.
This use case can be executed with the REST API of the Connector which you can <a href="/integrate/access-the-connector">Access the Connector</a>.
 
<h6>Corresponding interactive API docs excerpt:</h6>

<rapi-doc-mini
    server-url="https://doc-demo.is.enmeshed.eu/"
    default-api-server="https://doc-demo.is.enmeshed.eu/"
    api-key-name="x-api-key"
    api-key-location="header"
    api-key-value="apikey"
    layout="column"
    default-schema-tab="example"
    spec-url="https://doc-demo.is.enmeshed.eu/docs/json"
    paths-expanded="false"
    theme="light"
    bg-color="#f9f9fb"
    
    match-paths="^POST /api/v2/RelationshipTemplates/Own/{id}/Token$"
    
    match-type="regex"
></rapi-doc-mini>
<br />
 

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-03-05T12:10:58+01:00">March 5, 2025</time></p>

      </footer>

      

      
    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="footer-new">
    <div class="footer-row">
        <div class="footer-col footer-col-25">
            <h5 class="footer-headline">enmeshed</h5>
            <p class="footer-content">
                enmeshed is an open source wallet that ensures end-to-end encrypted digital data exchange between organizations and individuals.
                <br />
                <br />
                <small>enmeshed was developed by j&s-soft AG.</small>
            </p>
            <div class="footer-socials">
                <a class="footer-icon footer-social-icon footer-social-icon-twitter" href="https://twitter.com/enmeshed_jssoft" target="_blank">
                    <i class="fab fa-twitter"></i>
                </a>
                <a class="footer-icon footer-social-icon footer-social-icon-github" href="https://github.com/nmshd" target="_blank">
                    <i class="fab fa-github"></i>
                </a>
                <a class="footer-icon footer-social-icon footer-social-icon-linkedin" href="https://www.linkedin.com/showcase/enmeshed/" target="_blank">
                    <i class="fab fa-linkedin"></i>
                </a>
            </div>
        </div>
        <div class="footer-col footer-col-25">
            <h5 class="footer-headline">Contact</h5>
            <p class="footer-content">
                j&s-soft AG
                <br />
                Max-Jarecki-Straße 21
                <br />
                69115 Heidelberg
                <br />
                <br />
                <small
                    ><a href="tel:00496221431210"
                        ><span class="footer-contact-icon"><i aria-hidden="true" class="fas fa-phone-alt"></i></span>+49 (6221) 43121-0</a
                    ></small
                >
                <br />
                <small
                    ><a href="mailto:enmeshed.support@js-soft.com"
                        ><span class="footer-contact-icon"><i aria-hidden="true" class="fas fa-envelope"></i></span>enmeshed.support@js-soft.com</a
                    ></small
                >
            </p>
        </div>
        <div class="footer-col footer-col-25">
            <h5 class="footer-headline">Quick Links</h5>
            <ul class="footer-menu">
                   
                <li>
                    <a href="https://js-soft.com" rel="nofollow noopener noreferrer" target="_blank"> j&s-soft Website</a>
                </li>
                  
                <li>
                    <a href="https://www.enmeshed.de" rel="nofollow noopener noreferrer" target="_blank"> enmeshed Website</a>
                </li>
                  
                <li>
                    <a href="https://github.com/nmshd" rel="nofollow noopener noreferrer" target="_blank"> enmeshed on GitHub</a>
                </li>
                  
                <li>
                    <a href="/legal" rel="nofollow noopener noreferrer" target="_blank"> Legal Disclosure</a>
                </li>
                  
                <li>
                    <a href="/privacy" rel="nofollow noopener noreferrer" target="_blank"> Privacy Statement</a>
                </li>
                  
                <li>
                    <a href="https://www.npmjs.com/search?q=%40nmshd" rel="nofollow noopener noreferrer" target="_blank"> NPM</a>
                </li>
                  
                <li>
                    <a href="https://enmeshed.eu/feed.xml" rel="nofollow noopener noreferrer" target="_blank"> RSS Feed</a>
                </li>
                  
            </ul>
        </div>
        <div class="footer-col footer-col-25">
            <h5 class="footer-headline">Download the App</h5>
            <p class="footer-downloads footer-content">
                <a href="https://apps.apple.com/de/app/enmeshed/id1576693742" target="_blank">
                    <img src="/assets/images/appstore.svg" class="logo-app logo-app__appstore" />
                </a>
                <a href="https://play.google.com/store/apps/details?id=eu.enmeshed.app&hl=de&gl=US" target="_blank">
                    <img src="/assets/images/gplay.svg" class="logo-app logo-app__gplaystore" />
                </a>
            </p>
        </div>
    </div>
</div>

      </footer>
    </div>

    
  <script src="/versions/v7/assets/js/main.min.js"></script>




<script src="/versions/v7/assets/js/lunr/lunr.min.js"></script>
<script src="/versions/v7/assets/js/lunr/lunr-store.js"></script>
<script src="/versions/v7/assets/js/lunr/lunr-en.js"></script>






  </body>
</html>
